<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="bootstrap-4.5.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="login.css">
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="bootstrap-4.5.3-dist/js/bootstrap.min.js" ></script>
    
   
  </head>

<body>

  <div id="overlay" ></div>
    <button type="button" class="btn btn-primary" id="signinlink" >
        Sign In
      </button>
  <section id="signinbox" >  
    <!-- Button trigger modal -->

  <div id="wrong"></div>
  <!-- Modal -->
   <div class="container" >
      <div class="boxheader p-2">
          <label id="heading"> Sign In  </label> <span class="btn  " id="close"> X</span>
         
      </div>
  

  <div class="body" >

    <form action="">
        <div class="form-group">
          <label for="email">Email </label>
          <input type="email" class="form-control" id="email">
          <div class="errorMsg"></div>
        </div>

        <div class="form-group">
          <label for="password">Password </label>
          <input type="password" class="form-control" id="password">
          <div class="errorMsg"></div>
        </div>

        <div class="form-group  justify-content-end">
          <button class="btn btn-primary" id="signinbutton"> Sign in</button>
        </div>

    </form>
</div>
</div>
</section>

<script>
     $(document).ready(function () {
            var users = [{'name': 'ali', 'email':'ali@gmail.com', 'password': '123'}];
            var session = window.sessionStorage.getItem('uname');
            if(session != null){
                $('#signin').hide()
                        $('#signup').hide()
                        $('#name').text(user.name);
                        $('#signout').show();
            }
            else{
                $('#signin').show()
                        $('#signup').show()
                        $('#name').hide();
                        $('#signout').hide();
            }

            $('#signinlink').click(function () {
              $('#overlay').show();
              $('#signinbox').show();
              
            })
        
         

  //           function checkEmailValidation(email) {
  //               $(email).blur(function(){
	// 	var emailvalue = $(email).val();
	// 	if (validateEmail(emailvalue)) 
	// 	{
	// 		$(this).css('border','1px solid green');
			
	// 	} 
	// 	else 
	// 	{
	// 		$(this).css('border','1px solid red');
	// 	}
	// });
  //           }

  //           function validateEmail(email) {
  //               var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  //            return re.test(email);
  //           }

  //           $('input').focusin(function () {
  //               $(this).next('.errorMsg').hide();
  //               $(this).css({'border':'1px solid black'})
  //           })

          
  //           //for signin
            $('#signinbutton').click(function () {
                var email = $('#email').val();
                var password = $('#password').val();
                var found = false;
                var user = null;
                if(email == ''){
                    $('#email').css({'border': '1px solid red'})
                    $('#email').next('.errorMsg').text('This field is required ').css({'color': 'red', 'padding': '5px'})
                    return false
                }
                if(password == ''){
                    $('#password').css({'border': '1px solid red'})
                    $('#password').next('.errorMsg').text('This field is required ').css({'color': 'red', 'padding': '5px'})
                    return false
                }

                // emptyfield('#email');
                // emptyfield('#password');
                // checkEmailValidation('#email');
                for (let i = 0; i < users.length; i++) {
                    var user = users[i];
                    if (user.email == email && user.password == password) {
                        window.sessionStorage.setItem('uname', user.name);
                        $('#email').val ='';
                        $('#password').val =''
                        found = true;
                        break;
                    }

                    if(found == false){
                        $('#wrong').text('invalid email and password')
                    }
                    // else{
                    //     $('#signin').hide()
                    //     $('#signup').hide()
                    //     $('#name').text(user.name);
                    //     $('#signout').show();

                    // }
                }
            })

            //for s

        });
   
</script>


    <!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script> -->
</body>
</html>